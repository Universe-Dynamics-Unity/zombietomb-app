<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zombie Tomb Mobile</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Estilo rápido para el botón de salir durante el juego */
        .btn-salir-juego {
            position: fixed;
            top: 60px; /* Debajo de la barra de stats */
            right: 10px;
            z-index: 100;
            padding: 5px 15px;
            background: rgba(255, 0, 0, 0.3);
            color: white;
            border: 1px solid red;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            font-size: 12px;
        }
        .btn-salir-juego:hover { background: red; }
    </style>
</head>
<body>

<div id="menuPrincipal" class="screen">
    <h1 class="neon-text">ZOMBIE TOMB</h1>
    <button onclick="mostrarSelector(true)">MODO HISTORIA</button>
    <button onclick="iniciarJuego('arcade', 0)">MODO ARCADE</button>
    <button onclick="mostrarTienda(true)">TIENDA</button>
    <button onclick="mostrarCreditos(true)">CRÉDITOS</button>
    <button onclick="abrirConfirmacion()" class="btn-borrar">BORRAR PROGRESO</button>
    <div class="money-display">$ <span id="dineroMenu">0</span></div>
    <div class="money-display">Diamonds <span id="diamantes">0</span></div>
</div>

<div id="pantallaCreditos" class="screen oculto">
    <div class="modal-ventana">
        <h2>CRÉDITOS</h2>
        <p><strong>DIRECCIÓN Y DISEÑO:</strong><br>Universe Dynamics Unity Games</p>
        <p><strong>PROGRAMACIÓN Y IA:</strong><br>Gemini (Google) y Alan R.S</p>
        <p><strong>ARTE VISUAL:</strong><br>Motor de Neón 2025</p>
        <button onclick="mostrarCreditos(false)" style="color: var(--blue); border-color: var(--blue);">CERRAR</button>
    </div>
</div>

<div id="modalAlertaContenedor" class="screen oculto">
    <div class="modal-ventana">
        <h2 style="color: red;">¡ATENCIÓN!</h2>
        <p>Se borrará todo tu progreso.</p>
        <button onclick="borrarTodo()" style="color: red; border-color: red;">BORRAR TODO</button>
        <button onclick="cerrarConfirmacion()">CANCELAR</button>
    </div>
</div>

<div id="selectorNiveles" class="screen oculto">
    <h2>LÍNEA DEL TIEMPO</h2>
    <div class="timeline" id="timelineList"></div>
    <button onclick="regresarAlMenu()" style="color: red; border-color: red;">VOLVER</button>
</div>

<div id="pantallaTienda" class="screen oculto">
    <h2>MALL NEÓN</h2>
    <div class="tabs">
        <button class="tab-btn active" onclick="cambiarTab('pot', this)">BOOSTERS</button>
        <button class="tab-btn" onclick="cambiarTab('cos', this)">SKINS</button>
        <button class="tab-btn" onclick="cambiarTab('bank', this)">DINERO</button>
    </div>
    <div id="pot" class="tab-content active">
        <button onclick="comprarPotenciador('escudo', 50)">ESCUDO ($50)</button>
        <button onclick="comprarPotenciador('iman', 80)">IMÁN ($80)</button>
        <button onclick="comprarPotenciador('flash', 120)">FLASH SPEED ($120)</button>
        <button onclick="comprarPotenciador('vida', 150)">+1 VIDA ($150)</button>
        <button onclick="comprarSuperVida()" style="border-color: #ff00ff; color: #ff00ff;">SUPER VIDA (15 ♦)</button>
    </div>
    <div id="cos" class="tab-content">
        <button onclick="comprarSkin('#00ff44', 100)">ESMERALDA ($100)</button>
        <button onclick="comprarSkin('#ffcc00', 200)">ORO ($200)</button>
        <button onclick="comprarSkin('arcoiris', 500)">CROMÁTICA ($500)</button>
        <button onclick="comprarSkinFantasma()" style="border-color: #e0e0e0; color: #e0e0e0;">SKIN FANTASMA (50 ♦)</button>
    </div>
    <div id="bank" class="tab-content">
        <button onclick="canjearDinero()">100 PTS -> $10</button>
        <button onclick="canjearDinero2()">150 PTS -> $20</button>
        <button onclick="canjearDiamantes()">1000 MONEDAS -> 10 ♦</button>
        <button onclick="canjearDinero1()">20 ♦ -> $2500</button>
    </div>
    <button onclick="mostrarTienda(false)" style="color: red; border-color: red;">SALIR</button>
</div>

<div class="stats">
    Lvl: <span id="lvlDisplay">1</span> | HP: <span id="hp">3</span> | Pts: <span id="pts">0</span> | $: <span id="monedas">0</span> | ♦: <span id="diamantes">0</span>
</div>

<canvas id="gameCanvas"></canvas>

<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>
<script src="valores.js"></script>
<script src="botonesInferiores.js"></script>
<script src="tienda.js"></script>
<script src="game.js"></script>

<script>
    // Registro del Service Worker para que el logo funcione
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js');
    }
</script>
</body>
</html>
